# ğŸŒ³ æ ‘çš„ç®—æ³•ä¸é¢˜ç›®æ€»ç»“
>æ­¤æ–‡æ¡£è®°å½•äº†ä¸æ ‘ç›¸å…³çš„ç®—æ³•å’Œé¢˜ç›®å†…å®¹ï¼Œé¢˜ç›®æ¥æºäºæ´›è°·ã€‚
-[å‰ä¸­æ±‚å](#-1-å·²çŸ¥å‰åºååºéå†æ±‚è§£ä¸­åºéå†ä¸ªæ•°)
-[å †](#-2å †)
--[æ¨¡æ¿](#23-äºŒå‰å †çš„ä»£ç )
## ğŸ“Œ 1. å·²çŸ¥å‰åºååºéå†ï¼Œæ±‚è§£ä¸­åºéå†ä¸ªæ•°

ğŸ’¡ é¢˜ç›®æ¥æº[æ´›è°· P1229 - å·²çŸ¥å‰åºååºéå†ï¼Œæ±‚ä¸­åºéå†ä¸ªæ•°](https://www.luogu.com.cn/problem/P1229)

## é¢˜ç›®æè¿°

æˆ‘ä»¬éƒ½å¾ˆç†Ÿæ‚‰äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå†ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­å¸¸æå‡ºè¿™æ ·çš„é—®é¢˜ï¼šå·²çŸ¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºå’Œä¸­åºéå†ï¼Œæ±‚å®ƒçš„ååºéå†ï¼Œç›¸åº”çš„ï¼Œå·²çŸ¥ä¸€æ£µäºŒå‰æ ‘çš„ååºéå†å’Œä¸­åºéå†åºåˆ—ä½ ä¹Ÿèƒ½æ±‚å‡ºå®ƒçš„å‰åºéå†ã€‚ç„¶è€Œç»™å®šä¸€æ£µäºŒå‰æ ‘çš„å‰åºå’Œååºéå†ï¼Œä½ å´ä¸èƒ½ç¡®å®šå…¶ä¸­åºéå†åºåˆ—ï¼Œè€ƒè™‘å¦‚ä¸‹å›¾ä¸­çš„å‡ æ£µäºŒå‰æ ‘ï¼š

![](https://cdn.luogu.com.cn/upload/image_hosting/w75s9yip.png)

æ‰€æœ‰è¿™äº›äºŒå‰æ ‘éƒ½æœ‰ç€ç›¸åŒçš„å‰åºéå†å’Œååºéå†ï¼Œä½†ä¸­åºéå†å´ä¸ç›¸åŒã€‚

## è¾“å…¥æ ¼å¼

å…±ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œè¡¨ç¤ºè¯¥äºŒå‰æ ‘çš„å‰åºéå†ç»“æœ $s_1$ï¼Œç¬¬äºŒè¡Œè¡¨ç¤ºè¯¥äºŒå‰æ ‘çš„ååºéå†ç»“æœ $s_2$ã€‚


ä¿è¯è‡³å°‘å­˜åœ¨ä¸€æ£µäºŒå‰æ ‘æ»¡è¶³ç»™å‡ºçš„ä¿¡æ¯ï¼Œs<sub>1</sub>, s<sub>2</sub>  ä¸­åªå«å°å†™å­—æ¯ï¼Œä¸”åœ¨æŸä¸ªå­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨ç›¸åŒçš„å­—æ¯ã€‚

## è¾“å‡ºæ ¼å¼

è¾“å‡ºå¯èƒ½çš„ä¸­åºéå†åºåˆ—çš„æ€»æ•°ï¼Œç»“æœä¸è¶…è¿‡ $2^{63}-1$ã€‚

## æ ·ä¾‹ #1

### æ ·ä¾‹è¾“å…¥ #1

```
abc                           
cba
```

### æ ·ä¾‹è¾“å‡º #1

```
4
```

## ğŸ’¡ è§£é¢˜æ€è·¯
>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œåªæœ‰åœ¨æ ‘ä¸­éƒ½æ˜¯ä¸€ä¸ªå„¿å­çš„æ—¶å€™ï¼Œæ‰ä¼šäº§ç”Ÿä¸åŒçš„ä¸­åºéå†ç»“æœã€‚ä¾‹å¦‚å‰åºå‡ºç°ABï¼Œååºè¦å‡ºç°BAï¼Œåˆšå¥½åè¿‡æ¥ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ®è¿™ä¸ªæ€æƒ³æ¥å†™ä»£ç ã€‚

```cpp
#include <iostream>
#include <vector>
using namespace std;
int main(void)
{
  string fir, thi;
  cin >> fir >> thi;
  int result = 0;
  for (int i = 0; i < fir.length(); i++)
  {
    for (int j = 1; j < thi.length(); j++)
    {
      if (fir[i] == thi[j] && fir[i + 1] == thi[j - 1]) //éªŒè¯æ˜¯ä¸æ˜¯å‰åºABï¼ŒååºBAçš„æƒ…å†µ
        result++;
    }
  }
  cout << (1 << result); // æŒ‰ä½è¿ç®—ï¼ŒçœŸæ˜¯å¤ªå¦™äº†ï¼Œå·¦ç§»ä¸€ä½
  return 0;
}
```
## ğŸ“Œ 2.å †
![å †çš„å¼•å…¥](./ç…§ç‰‡/å †1.png)

### 2.1 äºŒå‰å †åŸºç¡€çŸ¥è¯†ç‚¹è®²è§£:
![äºŒå‰å †ç…§ç‰‡1](./ç…§ç‰‡/å †2.png)

### 2.2 äºŒå‰å †çš„æ“ä½œ:
å †çš„æ“ä½œæœ‰ä¸¤ç§:ä¸Šæµ®å’Œä¸‹æ²‰ã€‚

![äºŒå‰å †ç…§ç‰‡2](./ç…§ç‰‡/å †3.png)

![äºŒå‰å †ç…§ç‰‡3](./ç…§ç‰‡/å †4.png)

![äºŒå‰å †ç…§ç‰‡4](./ç…§ç‰‡/å †5.png)

### 2.3 äºŒå‰å †çš„ä»£ç :

# ğŸ’¡ é¢˜ç›®æ¥æº[æ´›è°·p3378 å †](https://www.luogu.com.cn/problem/P3378)
# ã€æ¨¡æ¿ã€‘å †

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°åˆ—ï¼Œåˆå§‹ä¸ºç©ºï¼Œè¯·æ”¯æŒä¸‹é¢ä¸‰ç§æ“ä½œï¼š

1. ç»™å®šä¸€ä¸ªæ•´æ•° $x$ï¼Œè¯·å°† $x$ åŠ å…¥åˆ°æ•°åˆ—ä¸­ã€‚
2. è¾“å‡ºæ•°åˆ—ä¸­æœ€å°çš„æ•°ã€‚
3. åˆ é™¤æ•°åˆ—ä¸­æœ€å°çš„æ•°ï¼ˆå¦‚æœæœ‰å¤šä¸ªæ•°æœ€å°ï¼Œåªåˆ é™¤ $1$ ä¸ªï¼‰ã€‚

## è¾“å…¥æ ¼å¼

ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„æ¬¡æ•° $n$ã€‚  
æ¥ä¸‹æ¥ $n$ è¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€æ¬¡æ“ä½œã€‚æ¯è¡Œé¦–å…ˆæœ‰ä¸€ä¸ªæ•´æ•° $op$ è¡¨ç¤ºæ“ä½œç±»å‹ã€‚
- è‹¥ $op = 1$ï¼Œåˆ™åé¢æœ‰ä¸€ä¸ªæ•´æ•° $x$ï¼Œè¡¨ç¤ºè¦å°† $x$ åŠ å…¥æ•°åˆ—ã€‚
- è‹¥ $op = 2$ï¼Œåˆ™è¡¨ç¤ºè¦æ±‚è¾“å‡ºæ•°åˆ—ä¸­çš„æœ€å°æ•°ã€‚
- è‹¥ $op = 3$ï¼Œåˆ™è¡¨ç¤ºåˆ é™¤æ•°åˆ—ä¸­çš„æœ€å°æ•°ã€‚å¦‚æœæœ‰å¤šä¸ªæ•°æœ€å°ï¼Œåªåˆ é™¤ $1$ ä¸ªã€‚

## è¾“å‡ºæ ¼å¼

å¯¹äºæ¯ä¸ªæ“ä½œ $2$ï¼Œè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚

## æ ·ä¾‹ #1

### æ ·ä¾‹è¾“å…¥ #1

```
5
1 2
1 5
2
3
2
```

### æ ·ä¾‹è¾“å‡º #1

```
2
5
```

## ğŸ’¡ è§£é¢˜æ€è·¯
>ä¸Šæµ®ç”¨push()å‡½æ•°å®ç°ï¼Œå®Œæˆæ’å…¥æ–°å…ƒç´ çš„åŠŸèƒ½ï¼Œå¯¹åº”ä¼˜å…ˆé˜Ÿåˆ—çš„å…¥é˜Ÿï¼›ä¸‹æ²‰ç”¨pop()å‡½æ•°å®ç°ï¼Œå®Œæˆåˆ é™¤å †å¤´çš„åŠŸèƒ½ï¼Œå¯¹åº”ä¼˜å…ˆé˜Ÿåˆ—çš„åˆ é™¤é˜Ÿå¤´ã€‚
```cpp
#include <iostream>
#include <vector>
using namespace std;
void push(int x, vector<int> &heap, int &len)
{
  heap[++len] = x; // å°†æ–°å…ƒç´  x æ’å…¥åˆ°å †çš„æœ«å°¾
  int i = len;     // ä»æ–°æ’å…¥çš„èŠ‚ç‚¹å¼€å§‹
  while (i > 1 && heap[i] < heap[i / 2])
  { // å¦‚æœå½“å‰èŠ‚ç‚¹æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œäº¤æ¢å®ƒä»¬
    swap(heap[i], heap[i / 2]);
    i /= 2; // å‘ä¸Šç§»åŠ¨åˆ°çˆ¶èŠ‚ç‚¹
  }
}
void pop(vector<int> &heap, int &len)
{
  heap[1] = heap[len--]; // ç”¨æœ€åä¸€ä¸ªå…ƒç´ æ›¿æ¢å †é¡¶ï¼Œä½†å¯èƒ½ä¸æ»¡è¶³æœ€å°å †çš„ç‰¹æ€§ï¼Œæ•…è€Œéœ€è¦è¿›è¡Œè°ƒæ•´
  int i = 1;
  while (2 * i <= len)
  {                  // å¾ªç¯æ¡ä»¶ï¼šå½“å‰èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹
    int son = 2 * i; // å‡è®¾å·¦å­èŠ‚ç‚¹æ›´å°
    if (son + 1 <= len && heap[son + 1] < heap[son])
    {
      son++; // å¦‚æœå³å­èŠ‚ç‚¹æ›´å°ï¼Œé€‰æ‹©å³å­èŠ‚ç‚¹ï¼Œç›¸å½“äºæ˜¯å’Œä¸Šé¢çš„é…å¥—ä½¿ç”¨ï¼Œä¸€å¼€å§‹å‡è®¾çš„æ˜¯å·¦å„¿å­æ›´å°ï¼Œæ¯”è¾ƒåå†è¿›è¡Œè°ƒæ•´é€‰æ‹©å“ªä¸€ä¸ª
    }
    if (heap[son] < heap[i])
    {
      swap(heap[son], heap[i]);
      i = son; // ç»§ç»­å‘ä¸‹è°ƒæ•´
    }
    else
    {
      break; // å †å·²æ»¡è¶³æ€§è´¨ï¼Œé€€å‡ºå¾ªç¯
    }
  }
}

int main(void)
{
  int n;
  cin >> n;                // è¾“å…¥æ“ä½œæ¬¡æ•°
  vector<int> heap(n + 1); // åˆ›å»ºå †ï¼Œé•¿åº¦ä¸º n+1ï¼ˆä»ä¸‹æ ‡ 1 å¼€å§‹å­˜å‚¨å…ƒç´ ï¼‰
  int len = 0;             // å †çš„å½“å‰å¤§å°

  while (n--)
  {         // å¾ªç¯å¤„ç†æ¯ä¸ªæ“ä½œ
    int op; // æ“ä½œç±»å‹ï¼š1 æ’å…¥ï¼Œ2 å–å‡ºå †é¡¶ï¼Œ3 åˆ é™¤å †é¡¶
    cin >> op;
    if (op == 1)
    { // æ’å…¥æ“ä½œ
      int x;
      cin >> x;
      push(x, heap, len); // æ’å…¥å…ƒç´  x
    }
    else if (op == 2)
    { // è¾“å‡ºå †é¡¶å…ƒç´ 
      cout << heap[1] << endl;
    }
    else
    { // åˆ é™¤å †é¡¶æ“ä½œ
      pop(heap, len);
    }
  }
  return 0;
}
```

# ğŸ’¡ é¢˜ç›®æ¥æº[æ´›è°·p1090 å †](https://www.luogu.com.cn/problem/P1090)

```cpp
#include <iostream>
#include <vector>
using namespace std;
void push(int x, vector<int> &arr, int &len)
{
  arr[++len] = x; // å…ˆå°†å…ƒç´ æ’å…¥
  int i = len;
  while (i > 1 && arr[i] < arr[i / 2])
  {
    swap(arr[i], arr[i / 2]);
    i = i / 2;
  }
}
void pop(vector<int> &arr, int &len)
{
  arr[1] = arr[len--];
  int i = 1;
  while (2 * i <= len)
  {
    int son = 2 * i;
    // ä¸‹é¢å¼€å§‹åˆ¤æ–­æœ€å°çš„æ˜¯å·¦å„¿å­è¿˜æ˜¯å³å„¿å­
    if (son + 1 <= len && arr[son + 1] < arr[son])
    {
      son++;
    }
    if (arr[son] < arr[i])
    {
      swap(arr[son], arr[i]);
      i = son;
    }
    else
    {
      break;
    }
  }
}
int main(void)
{
  int n;
  cin >> n;
  int len = 0;
  vector<int> arr(n + 1); // ä»1å¼€å§‹è®¡æ•°å§ï¼Œ0ç´¢å¼•çš„ç›´æ¥ä¸ç”¨
  for (int i = 1; i <= n; i++)
  {
    cin >> arr[i];
    push(arr[i], arr, len);
  }
  int sum = 0, temp_sum = 0;
  while (len != 1)
  {
    int a = arr[1];
    pop(arr, len);
    int b = arr[1];
    pop(arr, len);
    temp_sum = a + b;
    sum += temp_sum;
    push(temp_sum, arr, len);
  }
  cout << sum;
  return 0;
}
```

# ğŸ’¡ é¢˜ç›®æ¥æº[æ´›è°·p1168 å †](https://www.luogu.com.cn/problem/P1168)

## ğŸ’¡ è§£é¢˜æ€è·¯
>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå †æ¥ç»´æŠ¤ä¸­ä½æ•°ã€‚æœ€å¤§å †(left)å­˜å‚¨è¾ƒå°çš„ä¸€åŠæ•°æ®ï¼Œå †é¡¶æ˜¯è¾ƒå°éƒ¨åˆ†çš„æœ€å¤§å€¼ã€‚æœ€å°å †(right)å­˜å‚¨è¾ƒå¤§çš„ä¸€èˆ¬æ•°æ®ï¼Œå †é¡¶æ˜¯è¾ƒå¤§éƒ¨åˆ†çš„æœ€å°å€¼ã€‚
> å¦‚æœå½“å‰æ•°æ®æµçš„æ•°é‡æ˜¯å¥‡æ•°ï¼Œåˆ™ä¸­ä½æ•°æ˜¯æœ€å¤§å †çš„å †é¡¶ã€‚å¦‚æœæ˜¯å¶æ•°ä¸ªï¼Œåˆ™è¾“å‡ºæœ€å°å †å’Œæœ€å¤§å †çš„å †é¡¶çš„å¹³å‡å€¼ã€‚

>æ’å…¥å…ƒç´ åˆ°åˆé€‚çš„å †ï¼šå¦‚æœæ–°å…ƒç´ æ¯”æœ€å¤§å †çš„å †é¡¶å°ï¼Œæ’å…¥æœ€å¤§å †ï¼Œå¦åˆ™æ’å…¥æœ€å°å †ã€‚

>è°ƒæ•´ä¸¤ä¸ªå †çš„å¹³è¡¡æ€§ï¼šabs(æœ€å°å †æ•°é‡-æœ€å¤§å †æ•°é‡)<=1ï¼Œæ€»æ•°ä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œé€šå¸¸è®©æœ€å¤§å †æ¯”æœ€å°å †å¤šä¸€ä¸ªï¼Œæ–¹ä¾¿æˆ‘ä»¬ç›´æ¥ä»æœ€å¤§å †å †é¡¶è·å–ä¸­ä½æ•°ï¼Œæ€»æ•°ä¸ºå¶æ•°çš„æ—¶å€™ï¼Œåˆ™ä¸¤ä¸ªå †æ•°é‡ç›¸ç­‰å³å¯ã€‚

```cpp
#include <iostream>
#include <vector>
using namespace std;

// æ’å…¥åˆ°æœ€å¤§å †
void push_max(int x, vector<int> &heap, int &len) {
    heap[++len] = x; // æ’å…¥åˆ°æœ«å°¾
    int i = len;
    while (i > 1 && heap[i] > heap[i / 2]) { // å‘ä¸Šè°ƒæ•´
        swap(heap[i], heap[i / 2]);
        i = i / 2;
    }
}

// æ’å…¥åˆ°æœ€å°å †
void push_min(int x, vector<int> &heap, int &len) {
    heap[++len] = x; // æ’å…¥åˆ°æœ«å°¾
    int i = len;
    while (i > 1 && heap[i] < heap[i / 2]) { // å‘ä¸Šè°ƒæ•´
        swap(heap[i], heap[i / 2]);
        i = i / 2;
    }
}

// å¼¹å‡ºæœ€å¤§å †çš„å †é¡¶
void pop_max(vector<int> &heap, int &len) {
    heap[1] = heap[len--]; // ç”¨æœ€åä¸€ä¸ªå…ƒç´ æ›¿ä»£å †é¡¶
    int i = 1;
    while (2 * i <= len) { // å‘ä¸‹è°ƒæ•´
        int son = 2 * i;
        if (son + 1 <= len && heap[son + 1] > heap[son]) {
            son++;
        }
        if (heap[son] > heap[i]) {
            swap(heap[son], heap[i]);
            i = son;
        } else {
            break;
        }
    }
}

// å¼¹å‡ºæœ€å°å †çš„å †é¡¶
void pop_min(vector<int> &heap, int &len) {
    heap[1] = heap[len--]; // ç”¨æœ€åä¸€ä¸ªå…ƒç´ æ›¿ä»£å †é¡¶
    int i = 1;
    while (2 * i <= len) { // å‘ä¸‹è°ƒæ•´
        int son = 2 * i;
        if (son + 1 <= len && heap[son + 1] < heap[son]) {
            son++;
        }
        if (heap[son] < heap[i]) {
            swap(heap[son], heap[i]);
            i = son;
        } else {
            break;
        }
    }
}

// è·å–æœ€å¤§å †çš„å †é¡¶
int top_max(vector<int> &heap) {
    return heap[1];
}

// è·å–æœ€å°å †çš„å †é¡¶
int top_min(vector<int> &heap) {
    return heap[1];
}

int main() {
    int n;
    cin >> n; // è¾“å…¥æ•°ç»„é•¿åº¦

    // æœ€å¤§å †ï¼ˆå­˜å‚¨è¾ƒå°ä¸€åŠçš„å…ƒç´ ï¼‰
    vector<int> max_heap(n + 1);
    int max_len = 0;

    // æœ€å°å †ï¼ˆå­˜å‚¨è¾ƒå¤§ä¸€åŠçš„å…ƒç´ ï¼‰
    vector<int> min_heap(n + 1);
    int min_len = 0;

    for (int i = 1; i <= n; i++) {
        int num;
        cin >> num;

        // æ’å…¥æ–°å…ƒç´ 
        if (max_len == 0 || num <= top_max(max_heap)) {
            push_max(num, max_heap, max_len);
        } else {
            push_min(num, min_heap, min_len);
        }

        // å¹³è¡¡ä¸¤ä¸ªå †
        if (max_len > min_len + 1) {
            push_min(top_max(max_heap), min_heap, min_len);
            pop_max(max_heap, max_len);
        } else if (min_len > max_len) {
            push_max(top_min(min_heap), max_heap, max_len);
            pop_min(min_heap, min_len);
        }

        // è¾“å‡ºä¸­ä½æ•°ï¼ˆä»…åœ¨å¥‡æ•°æ—¶ï¼‰
        if (i % 2 == 1) {
            cout << top_max(max_heap) << endl;
        }
    }

    return 0;
}
```